<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="StyleSheet" href="../css/ourpetstore.css" type="text/css" media="screen"/>
</head>
<body>
<header th:replace="common/adminTop"></header>
<div id="Content">
    <div id="Catalog">
        <form action="/houTai/register" name="new_account_form" method="post">
            <h3>User Information</h3>
            <p th:if="${session.signOnMsg != null}"><font color="red">${session.signOnMsg} </font></p>
            <table>
                <tr>
                    <td>User ID:</td>
                    <td><input type="text" name="username" id="usernameInput"></td>
                    <label id="isUserNameExistLabel" style="color: red"></label>
                </tr>
                <tr>
                    <td>New password:</td>
                    <td><input type="text" name="password"></td>
                </tr>
                <tr>
                    <td>Repeat password:</td>
                    <td><input type="text" name="repeatedPassword"></td>
                </tr>

            </table>
            <span class="require"></span>validation code:
            <input type="text" id="validation_code" name="validation_code"/><!--验证码输入框-->
            <img src="validation_code" id="img_validation_code"
                 onclick="refresh()"/><!--图形验证码--><br/>

            <input type="button" value="sign up" onclick="checkRegister()"/>
        </form>
    </div>
    <script type="text/javascript">
        function refresh() {
            var img = document.getElementById("img_validation_code");
            img.src = "validation_code?" + Math.random();
        }

        //实现验证码的刷新
        function checkRegister() {
            var validation_code = document.getElementById("validation_code");
            if (validation_code.value == "") {
                alert("Validation code is required.");
                return;
            }
            document.new_account_form.submit();
        }
    </script>
</div>

<footer th:replace="common/adminBottom"></footer>
</body>
</html>